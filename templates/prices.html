<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">

    <title>Prices</title>
</head>
<body>
    <div class="container">
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
        <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
            <svg xmlns="http://www.w3.org/2000/svg" height="25" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
            </svg>
        <span class="fs-4">{{user.username}}</span>
        </a>

      <ul class="nav nav-pills">
        <li class="nav-item">
            <a href="{{ url_for('home') }}" class="nav-link">Home</a>
        </li>
        <li class="nav-item">
            <a href="{{ url_for('ui', username = user.username) }}" class="nav-link">Flights</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" aria-current="page">Pricing</a>
        </li>
        <li class="nav-item">
            <a href="#" class="nav-link">FAQs</a>
        </li>
      </ul>
    </header>
    </div>
    
{% if data: %}
  <div class="album py-5 bg-body-tertiary">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
      {% for i in details%}
        <div class="col">
          <div class="card shadow-sm">
            <svg aria-label="Placeholder: Thumbnail" class="bd-placeholder-img card-img-top" height="225"
                preserveAspectRatio="xMidYMid slice" role="img" width="100%" xmlns="http://www.w3.org/2000/svg">
              <title>Placeholder</title>
              <rect width="100%" height="100%" fill="#55595c"></rect>
              <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
            </svg>
            <div class="card-body">
              {% for flight in flights[loop.index0]: %}
                <h5 class="card-title">
                    {{ flight["departure_airport_code"] }}
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send mx-2" viewBox="0 0 16 16">
                      <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z"/>
                    </svg>
                    {{ flight["arrival_airport_code"] }}
                  </h5>

                  <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                      <strong>Dates:</strong> {{ flight["outbound_date"] }} â†’ {{ flight["inbound_date"] }}
                    </li>
                    <li class="list-group-item">
                      <strong>Time:</strong> {{ flight["outbound_time"] }} â†’ {{ flight["inbound_time"] }}
                    </li>
                    <li class="list-group-item">
                      <strong>Plane Code:</strong> {{ flight["planes"] }}
                    </li>
                  </ul>
              {% endfor %}
              <hr>

              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                  <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
                </div>
                <small class="text-body-secondary">${{prices[loop.index0]}}</small>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
      </div> <!-- end row -->
    </div> <!-- end container -->
  </div> <!-- end album -->

{% else: %}
  <div class="container my-5">
    <div class="position-relative p-5 text-center text-muted bg-body border border-dashed rounded-5">

      <svg xmlns="http://www.w3.org/2000/svg" height="50" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
      </svg>
      
      <h1 class="text-body-emphasis">{{message}} ðŸ˜­</h1>
      
      <p class="col-lg-6 mx-auto mb-4">
      We couldnâ€™t fetch the travel details with the current price tag.  
      Please try again later or adjust your search criteria.
      </p>
      <a href="{{ url_for('home') }}">
        <button class="btn btn-primary px-5 mb-5" type="button">
          Home
        </button>
      </a>

      
    </div>
  </div>

{% endif %}
</body>
</html>